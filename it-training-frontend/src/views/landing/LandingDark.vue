<!--
  ğŸŒ™ Landing Dark â€” Vercel å®˜ç½‘é£æ ¼
  Â· ææš—èƒŒæ™¯ (#08090A), ç½‘æ ¼çº¿ pattern
  Â· Bento Grid ä¸ç­‰å¤§å°æš—è‰²å¡ç‰‡
  Â· Command Palette (âŒ˜K) æ¨¡æ‹Ÿå±•ç¤º
  Â· monospace æ•°å­—, å‘å…‰è¾¹æ¡† hover
  Â· æ–‡å­—æ¸å˜ whiteâ†’gray
-->
<template>
  <div class="min-h-screen bg-[#08090A] text-gray-300">
    <!-- â•â•â• Nav â€” åŠé€æ˜æš—è‰²æ¡ â•â•â• -->
    <nav class="fixed top-0 inset-x-0 z-50 bg-[#08090A]/80 backdrop-blur-xl border-b border-white/[0.06]">
      <div class="max-w-5xl mx-auto px-6 h-12 flex items-center justify-between">
        <router-link to="/" class="flex items-center gap-2">
          <div class="w-7 h-7 bg-white rounded-lg flex items-center justify-center">
            <span class="text-black text-[10px] font-bold">IT</span>
          </div>
          <span class="font-semibold text-[15px] text-[#EDEDED]">æ™ºèƒ½åŸ¹è®­</span>
        </router-link>
        <div class="flex items-center gap-4">
          <ThemeSwitcher />
          <router-link to="/login" class="text-sm text-gray-500 hover:text-[#EDEDED] transition">ç™»å½•</router-link>
          <router-link to="/register"
            class="text-sm font-medium px-4 py-[7px] rounded-lg bg-white text-black hover:bg-gray-200 transition-all">
            Get Started
          </router-link>
        </div>
      </div>
    </nav>

    <!-- â•â•â• Hero â€” ç½‘æ ¼èƒŒæ™¯ + æ¸å˜æ ‡é¢˜ â•â•â• -->
    <section class="relative pt-36 pb-24 px-6 overflow-hidden">
      <!-- Grid pattern bg -->
      <div class="absolute inset-0 grid-bg opacity-40" />
      <!-- Radial gradient overlay from bottom -->
      <div class="absolute inset-0 bg-gradient-to-t from-[#08090A] via-[#08090A]/60 to-transparent" />

      <div class="max-w-3xl mx-auto text-center relative z-10">
        <ScrollReveal>
          <h1 class="text-5xl sm:text-6xl lg:text-[68px] font-bold leading-[1.08] tracking-tight mb-6
                     bg-gradient-to-b from-white via-white to-gray-500 bg-clip-text text-transparent">
            æ¢ç´¢ IT æŠ€èƒ½<br />å¼€å¯æˆé•¿ä¹‹è·¯
          </h1>
        </ScrollReveal>

        <ScrollReveal :delay="120">
          <!-- Code-style feature list -->
          <div class="flex items-center justify-center gap-6 mb-10 font-mono text-sm text-gray-500">
            <span class="flex items-center gap-1.5">
              <span class="text-[#818CF8]">â–¸</span> AI æ¨è
            </span>
            <span class="flex items-center gap-1.5">
              <span class="text-[#818CF8]">â–¸</span> è¿›åº¦è¿½è¸ª
            </span>
            <span class="flex items-center gap-1.5">
              <span class="text-[#818CF8]">â–¸</span> æ™ºèƒ½è®¡åˆ’
            </span>
          </div>
        </ScrollReveal>

        <ScrollReveal :delay="220">
          <router-link to="/register"
            class="inline-flex items-center gap-2 px-7 py-3 rounded-lg bg-white text-black text-sm font-medium
                   hover:shadow-[0_0_30px_rgba(255,255,255,0.15)] transition-all">
            Get Started
            <ArrowRight class="w-4 h-4" :stroke-width="2" />
          </router-link>
        </ScrollReveal>
      </div>
    </section>

    <!-- â•â•â• Bento Feature Grid â€” ä¸ç­‰å¤§å°å¡ç‰‡ â•â•â• -->
    <section class="py-20 px-6">
      <div class="max-w-5xl mx-auto">
        <ScrollReveal>
          <h2 class="text-2xl font-bold text-[#EDEDED] text-center mb-12">æ„å»ºä½ çš„æŠ€èƒ½å›¾è°±</h2>
        </ScrollReveal>
        <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
          <!-- Big card (spans 2 cols) -->
          <ScrollReveal class="md:col-span-2">
            <div class="bento-card h-full p-8 flex flex-col justify-between">
              <div>
                <div class="w-10 h-10 rounded-lg bg-[#818CF8]/10 flex items-center justify-center mb-4">
                  <Sparkles class="w-5 h-5 text-[#818CF8]" :stroke-width="1.75" />
                </div>
                <h3 class="text-lg font-semibold text-[#EDEDED] mb-2">AI æ™ºèƒ½æ¨èå¼•æ“</h3>
                <p class="text-sm text-gray-500 leading-relaxed max-w-md">
                  åŸºäºä½ çš„å­¦ä¹ è¡Œä¸ºã€èƒ½åŠ›ç”»åƒä¸ååŒè¿‡æ»¤ç®—æ³•ï¼Œè‡ªåŠ¨æ¨èæœ€é€‚åˆä½ çš„è¯¾ç¨‹è·¯å¾„ã€‚
                  å‘Šåˆ«ç›²ç›®é€‰è¯¾ï¼Œè®© AI æˆä¸ºä½ çš„å­¦ä¹ é¡¾é—®ã€‚
                </p>
              </div>
              <div class="flex gap-2 mt-6">
                <span class="px-2 py-0.5 rounded-md text-[11px] font-mono bg-[#818CF8]/10 text-[#818CF8]">collaborative-filtering</span>
                <span class="px-2 py-0.5 rounded-md text-[11px] font-mono bg-white/[0.04] text-gray-500">content-based</span>
              </div>
            </div>
          </ScrollReveal>

          <!-- Small cards stacked -->
          <div class="flex flex-col gap-4">
            <ScrollReveal :delay="100">
              <div class="bento-card p-6">
                <div class="w-10 h-10 rounded-lg bg-emerald-500/10 flex items-center justify-center mb-3">
                  <Target class="w-5 h-5 text-emerald-400" :stroke-width="1.75" />
                </div>
                <h3 class="text-sm font-semibold text-[#EDEDED] mb-1">å­¦ä¹ è®¡åˆ’</h3>
                <p class="text-xs text-gray-500 leading-relaxed">å®šåˆ¶ä¸ªæ€§åŒ–ç›®æ ‡ï¼ŒæŒ‰èŠ‚å¥æ¨è¿›</p>
              </div>
            </ScrollReveal>
            <ScrollReveal :delay="180">
              <div class="bento-card p-6">
                <div class="w-10 h-10 rounded-lg bg-amber-500/10 flex items-center justify-center mb-3">
                  <TrendingUp class="w-5 h-5 text-amber-400" :stroke-width="1.75" />
                </div>
                <h3 class="text-sm font-semibold text-[#EDEDED] mb-1">æ•°æ®åˆ†æ</h3>
                <p class="text-xs text-gray-500 leading-relaxed">å¯è§†åŒ–æŠ¥å‘Šï¼Œè¿½è¸ªå­¦ä¹ æˆæ•ˆ</p>
              </div>
            </ScrollReveal>
          </div>

          <!-- Bottom full-width card -->
          <ScrollReveal class="md:col-span-3" :delay="200">
            <div class="bento-card p-6 flex items-center gap-6">
              <div class="flex gap-3">
                <div v-for="cat in categories.slice(0, 6)" :key="cat.name"
                     class="w-10 h-10 rounded-lg bg-gradient-to-br flex items-center justify-center"
                     :class="cat.gradient">
                  <component :is="cat.icon" class="w-5 h-5 text-white/80" :stroke-width="1.5" />
                </div>
              </div>
              <div class="flex-1">
                <h3 class="text-sm font-semibold text-[#EDEDED] mb-1">10+ æŠ€æœ¯åˆ†ç±»</h3>
                <p class="text-xs text-gray-500">æ¶µç›– Javaã€Pythonã€å‰ç«¯ã€æ•°æ®åº“ã€AIã€åç«¯ç­‰å…¨æ ˆé¢†åŸŸ</p>
              </div>
              <router-link to="/login" class="text-xs text-[#818CF8] hover:text-[#A5B4FC] transition font-mono">
                explore â†’
              </router-link>
            </div>
          </ScrollReveal>
        </div>
      </div>
    </section>

    <!-- â•â•â• Command Palette å±•ç¤º â•â•â• -->
    <section class="py-16 px-6">
      <div class="max-w-2xl mx-auto">
        <ScrollReveal>
          <div class="text-center mb-8">
            <h2 class="text-2xl font-bold text-[#EDEDED] mb-3">æ™ºèƒ½æœç´¢ï¼Œä¸€é”®è§¦è¾¾</h2>
            <p class="text-sm text-gray-500 font-mono">âŒ˜ K Â· å¿«é€Ÿæœç´¢è¯¾ç¨‹ã€è®²å¸ˆä¸å­¦ä¹ è·¯å¾„</p>
          </div>
        </ScrollReveal>
        <ScrollReveal :delay="100">
          <div class="cmd-palette rounded-xl border border-white/[0.08] bg-[#111113] overflow-hidden shadow-2xl">
            <div class="px-4 py-3 border-b border-white/[0.06] flex items-center gap-3">
              <Search class="w-4 h-4 text-gray-500" :stroke-width="1.75" />
              <span class="text-sm text-gray-500 font-mono">æœç´¢è¯¾ç¨‹...</span>
              <div class="ml-auto flex gap-1">
                <kbd class="kbd-key">âŒ˜</kbd>
                <kbd class="kbd-key">K</kbd>
              </div>
            </div>
            <div class="divide-y divide-white/[0.04]">
              <div v-for="(item, i) in cmdItems" :key="i"
                   class="px-4 py-2.5 flex items-center gap-3 hover:bg-white/[0.03] transition"
                   :class="i === 0 ? 'bg-white/[0.03]' : ''">
                <component :is="item.icon" class="w-4 h-4 text-gray-500" :stroke-width="1.5" />
                <span class="text-sm" :class="i === 0 ? 'text-[#EDEDED]' : 'text-gray-500'">{{ item.label }}</span>
                <span class="ml-auto text-[10px] font-mono text-gray-600">{{ item.type }}</span>
              </div>
            </div>
          </div>
        </ScrollReveal>
      </div>
    </section>

    <!-- â•â•â• Featured Courses â€” æš—è‰²æ°´å¹³æ»šåŠ¨ â•â•â• -->
    <section class="py-20 px-6">
      <div class="max-w-6xl mx-auto">
        <ScrollReveal>
          <div class="flex items-center justify-between mb-8">
            <h2 class="text-xl font-bold text-[#EDEDED]">ç²¾é€‰è¯¾ç¨‹</h2>
            <router-link to="/login" class="text-xs font-mono text-gray-500 hover:text-[#EDEDED] transition">
              view all â†’
            </router-link>
          </div>
        </ScrollReveal>

        <!-- Skeleton -->
        <div v-if="coursesLoading" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4">
          <div v-for="n in 4" :key="n" class="h-52 rounded-xl bg-white/[0.03] animate-pulse" />
        </div>

        <!-- Cards -->
        <div v-else-if="featuredCourses.length" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4">
          <ScrollReveal v-for="(c, i) in featuredCourses" :key="c.id" :delay="i * 50">
            <router-link to="/login" class="bento-card block overflow-hidden cursor-pointer group">
              <div class="h-28 bg-gradient-to-br flex items-center justify-center"
                   :class="getCategoryStyle(c.category).gradient">
                <component :is="getCategoryStyle(c.category).icon"
                           class="w-8 h-8 text-white/80" :stroke-width="1.25" />
              </div>
              <div class="p-4">
                <h4 class="font-semibold text-sm text-[#EDEDED] line-clamp-2 mb-1.5">{{ c.name }}</h4>
                <p class="text-xs text-gray-600 line-clamp-2 mb-3">{{ c.description }}</p>
                <div class="flex items-center justify-between text-xs">
                  <span class="px-2 py-0.5 rounded-md text-[10px] font-mono bg-white/[0.04] text-gray-500">
                    {{ c.categoryName || c.category }}
                  </span>
                  <span class="text-gray-600 font-mono">{{ c.durationHours || 'â€”' }}h</span>
                </div>
              </div>
            </router-link>
          </ScrollReveal>
        </div>

        <div v-else class="text-center py-16">
          <BookOpen class="w-12 h-12 mx-auto text-white/[0.06] mb-3" :stroke-width="1" />
          <p class="text-sm text-gray-600">æš‚æ— è¯¾ç¨‹</p>
        </div>
      </div>
    </section>

    <!-- â•â•â• Stats â€” monospace æ•°å­— â•â•â• -->
    <section class="py-16 px-6 border-y border-white/[0.06]">
      <div class="max-w-4xl mx-auto">
        <div class="grid grid-cols-2 lg:grid-cols-4 gap-8">
          <ScrollReveal v-for="(s, i) in stats" :key="i" :delay="i * 80">
            <div class="text-center">
              <div class="text-4xl font-bold font-mono mb-1
                          bg-gradient-to-r from-[#EDEDED] to-[#818CF8] bg-clip-text text-transparent">
                <NumberCounter :value="s.value" :suffix="s.suffix" />
              </div>
              <div class="text-xs text-gray-600 font-mono">{{ s.label }}</div>
            </div>
          </ScrollReveal>
        </div>
      </div>
    </section>

    <!-- â•â•â• CTA â•â•â• -->
    <section class="py-28 px-6">
      <div class="max-w-lg mx-auto text-center">
        <ScrollReveal>
          <h2 class="text-3xl font-bold mb-3
                     bg-gradient-to-r from-white to-[#818CF8] bg-clip-text text-transparent">
            Deploy your learning
          </h2>
          <p class="text-gray-500 mb-10 text-sm font-mono">ç«‹å³æ³¨å†Œï¼Œå¼€å§‹ä½ çš„æˆé•¿ä¹‹æ—…</p>
          <router-link to="/register"
            class="inline-flex items-center gap-2 px-7 py-3 rounded-lg bg-white text-black text-sm font-medium
                   hover:shadow-[0_0_30px_rgba(255,255,255,0.15)] transition-all">
            Get Started
            <ArrowRight class="w-4 h-4" :stroke-width="2" />
          </router-link>
        </ScrollReveal>
      </div>
    </section>

    <!-- â•â•â• Footer â•â•â• -->
    <footer class="py-8 px-6 text-center border-t border-white/[0.06]">
      <span class="text-xs text-gray-600 font-mono">Â© 2025 IT æ™ºèƒ½åŸ¹è®­ç³»ç»Ÿ Â· æ¯•ä¸šè®¾è®¡é¡¹ç›®</span>
    </footer>
  </div>
</template>

<script setup lang="ts">
import type { StatItem } from '@/composables/useLandingData'
import type { PublicCourse } from '@/api/publicStats'
import { getCategoryStyle } from '@/utils/categoryColors'
import ScrollReveal from '@/components/effects/ScrollReveal.vue'
import NumberCounter from '@/components/effects/NumberCounter.vue'
import ThemeSwitcher from '@/components/patterns/ThemeSwitcher.vue'
import {
  ArrowRight, Clock, BookOpen, Search,
  Terminal, Code2, Globe, Database, Brain,
  Server, Smartphone, Shield, BarChart3, Blocks,
  Sparkles, Target, TrendingUp, GraduationCap, Zap,
} from 'lucide-vue-next'

defineProps<{
  stats: StatItem[]
  featuredCourses: PublicCourse[]
  coursesLoading: boolean
}>()

const categories = [
  { name: 'Java',      icon: Terminal,    gradient: 'from-amber-500 to-orange-600' },
  { name: 'Python',    icon: Code2,       gradient: 'from-blue-500 to-cyan-500' },
  { name: 'å‰ç«¯å¼€å‘',   icon: Globe,       gradient: 'from-emerald-500 to-teal-500' },
  { name: 'æ•°æ®åº“',     icon: Database,    gradient: 'from-purple-500 to-violet-600' },
  { name: 'AI / ML',   icon: Brain,       gradient: 'from-rose-500 to-pink-600' },
  { name: 'åç«¯å¼€å‘',   icon: Server,      gradient: 'from-indigo-500 to-blue-600' },
  { name: 'ç§»åŠ¨å¼€å‘',   icon: Smartphone,  gradient: 'from-cyan-500 to-sky-600' },
  { name: 'ç½‘ç»œå®‰å…¨',   icon: Shield,      gradient: 'from-red-500 to-rose-600' },
  { name: 'å¤§æ•°æ®',     icon: BarChart3,   gradient: 'from-teal-500 to-emerald-600' },
  { name: 'DevOps',    icon: Blocks,      gradient: 'from-slate-500 to-zinc-600' },
]

const cmdItems = [
  { icon: GraduationCap, label: 'Java æ ¸å¿ƒåŸºç¡€',   type: 'course' },
  { icon: Code2,         label: 'Python æ•°æ®åˆ†æ', type: 'course' },
  { icon: Globe,         label: 'Vue 3 å®æˆ˜å¼€å‘',  type: 'course' },
  { icon: Zap,           label: 'å¿«é€Ÿå¼€å§‹å­¦ä¹ ',     type: 'action' },
]
</script>

<style scoped>
/* Grid background pattern */
.grid-bg {
  background-image:
    linear-gradient(rgba(255,255,255,0.03) 1px, transparent 1px),
    linear-gradient(90deg, rgba(255,255,255,0.03) 1px, transparent 1px);
  background-size: 60px 60px;
}

/* Bento card */
.bento-card {
  background: #111113;
  border: 1px solid rgba(255,255,255,0.06);
  border-radius: 14px;
  transition: border-color 0.2s ease, box-shadow 0.2s ease;
}
.bento-card:hover {
  border-color: rgba(129,140,248,0.2);
  box-shadow: 0 0 20px rgba(129,140,248,0.06);
}

/* Keyboard key */
.kbd-key {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  min-width: 22px;
  height: 22px;
  padding: 0 5px;
  border-radius: 5px;
  background: rgba(255,255,255,0.05);
  border: 1px solid rgba(255,255,255,0.08);
  color: rgba(255,255,255,0.4);
  font-size: 10px;
  font-family: ui-monospace, monospace;
}

/* Command palette */
.cmd-palette {
  box-shadow:
    0 0 0 1px rgba(255,255,255,0.06),
    0 16px 70px rgba(0,0,0,0.7);
}
</style>
