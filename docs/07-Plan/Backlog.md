# IT 技能培训智能选课系统 - 产品待办列表 (Backlog)

> 文档版本：v1.0.0
> 最后更新：2025-12-14
> 文档状态：✅ 已完成
> 关联文档：[PRD.md](../01-Requirements/PRD.md) | [BusinessRules.md](../01-Requirements/BusinessRules.md)

---

## 目录

1. [Backlog 概览](#1-backlog-概览)
2. [Epic 与 Story 详情](#2-epic-与-story-详情)
3. [依赖关系](#3-依赖关系)
4. [Sprint 分配预览](#4-sprint-分配预览)

---

## 1. Backlog 概览

### 1.1 Epic 列表

| Epic ID | Epic 名称 | Story 数 | 优先级 | 目标 Sprint |
|---------|-----------|----------|--------|-------------|
| E1 | 认证模块 | 4 | P0 | Sprint 1 |
| E2 | 用户管理 | 4 | P0 | Sprint 1 |
| E3 | 课程管理 | 5 | P0 | Sprint 1 |
| E4 | 班期管理 | 5 | P0 | Sprint 1 |
| E5 | 报名管理 | 6 | P0 | Sprint 2 |
| E6 | AI 智能推荐 | 4 | P0 | Sprint 3 |
| E7 | 统计看板 | 3 | P1 | Sprint 3 |

**总计：7 个 Epic，31 个 Story**

### 1.2 优先级说明

| 优先级 | 定义 | Story 数 |
|--------|------|----------|
| P0 | 必须完成，MVP 核心功能 | 28 |
| P1 | 重要功能，增强体验 | 3 |

---

## 2. Epic 与 Story 详情

---

### E1: 认证模块

> **目标**：实现用户注册、登录、JWT 认证
> **优先级**：P0
> **目标 Sprint**：Sprint 1

#### S1.1 用户注册

| 属性 | 值 |
|------|-----|
| Story ID | S1.1 |
| 优先级 | P0 |
| 角色 | 访客 |
| 描述 | 作为访客，我希望能够注册账号，以便使用系统功能 |

**验收标准 (AC)：**
- [ ] AC1: 注册页面包含用户名、密码、确认密码、真实姓名、手机号（选填）字段
- [ ] AC2: 用户名唯一性校验，重复时提示"用户名已存在"
- [ ] AC3: 密码至少 6 位，前端显示密码强度提示
- [ ] AC4: 密码与确认密码不一致时，提示错误
- [ ] AC5: 注册成功后自动跳转登录页，提示"注册成功，请登录"
- [ ] AC6: 新注册用户默认角色为 STUDENT

**依赖**：无

---

#### S1.2 用户登录

| 属性 | 值 |
|------|-----|
| Story ID | S1.2 |
| 优先级 | P0 |
| 角色 | 所有用户 |
| 描述 | 作为用户，我希望能够登录系统，以便访问对应角色的功能 |

**验收标准 (AC)：**
- [ ] AC1: 登录页面包含用户名、密码、记住我（可选）字段
- [ ] AC2: 登录成功返回 JWT Token，存储到 localStorage
- [ ] AC3: 根据用户角色跳转到对应首页（ADMIN→管理端，INSTRUCTOR→讲师端，STUDENT→学员端）
- [ ] AC4: 用户名或密码错误时，提示"用户名或密码错误"
- [ ] AC5: 账户被禁用时，提示"账户已被禁用，请联系管理员"
- [ ] AC6: 连续 5 次密码错误，锁定账户 30 分钟

**依赖**：S1.1

---

#### S1.3 Token 刷新

| 属性 | 值 |
|------|-----|
| Story ID | S1.3 |
| 优先级 | P1 |
| 角色 | 已登录用户 |
| 描述 | 作为已登录用户，我希望 Token 快过期时自动刷新，避免操作中断 |

**验收标准 (AC)：**
- [ ] AC1: Token 有效期 24 小时
- [ ] AC2: Token 剩余有效期 < 30 分钟时，前端自动调用刷新接口
- [ ] AC3: 刷新成功返回新 Token，替换旧 Token
- [ ] AC4: 刷新失败（Token 已过期）时，跳转登录页

**依赖**：S1.2

---

#### S1.4 用户登出

| 属性 | 值 |
|------|-----|
| Story ID | S1.4 |
| 优先级 | P0 |
| 角色 | 已登录用户 |
| 描述 | 作为已登录用户，我希望能够安全登出系统 |

**验收标准 (AC)：**
- [ ] AC1: 点击"退出登录"后清除本地 Token
- [ ] AC2: 跳转到登录页
- [ ] AC3: 登出后访问需认证页面时重定向到登录页

**依赖**：S1.2

---

### E2: 用户管理

> **目标**：管理员对用户的增删改查
> **优先级**：P0
> **目标 Sprint**：Sprint 1

#### S2.1 用户列表查询

| 属性 | 值 |
|------|-----|
| Story ID | S2.1 |
| 优先级 | P0 |
| 角色 | ADMIN |
| 描述 | 作为管理员，我希望查看所有用户列表，以便了解系统用户情况 |

**验收标准 (AC)：**
- [ ] AC1: 分页展示用户列表，默认每页 10 条
- [ ] AC2: 支持按用户名、真实姓名模糊搜索
- [ ] AC3: 支持按角色筛选（全部/ADMIN/INSTRUCTOR/STUDENT）
- [ ] AC4: 支持按状态筛选（全部/启用/禁用）
- [ ] AC5: 列表显示：用户名、真实姓名、角色、手机号、状态、创建时间
- [ ] AC6: 非 ADMIN 角色访问返回 403

**依赖**：S1.2

---

#### S2.2 新增用户

| 属性 | 值 |
|------|-----|
| Story ID | S2.2 |
| 优先级 | P0 |
| 角色 | ADMIN |
| 描述 | 作为管理员，我希望能够创建新用户（尤其是讲师账号） |

**验收标准 (AC)：**
- [ ] AC1: 弹窗表单包含：用户名、密码、真实姓名、角色、手机号、邮箱
- [ ] AC2: 用户名唯一性校验
- [ ] AC3: 角色可选：ADMIN、INSTRUCTOR、STUDENT
- [ ] AC4: 创建成功后刷新列表并提示"创建成功"
- [ ] AC5: 新用户默认状态为启用

**依赖**：S2.1

---

#### S2.3 编辑用户

| 属性 | 值 |
|------|-----|
| Story ID | S2.3 |
| 优先级 | P0 |
| 角色 | ADMIN |
| 描述 | 作为管理员，我希望能够修改用户信息和状态 |

**验收标准 (AC)：**
- [ ] AC1: 点击"编辑"弹出表单，回显当前用户信息
- [ ] AC2: 可修改：真实姓名、角色、手机号、邮箱、状态
- [ ] AC3: 用户名不可修改（显示但禁用）
- [ ] AC4: 保存成功后刷新列表并提示"保存成功"
- [ ] AC5: 不能修改自己的角色和状态（防止自锁）

**依赖**：S2.1

---

#### S2.4 删除用户

| 属性 | 值 |
|------|-----|
| Story ID | S2.4 |
| 优先级 | P1 |
| 角色 | ADMIN |
| 描述 | 作为管理员，我希望能够删除不需要的用户 |

**验收标准 (AC)：**
- [ ] AC1: 点击"删除"弹出二次确认
- [ ] AC2: 确认后执行软删除
- [ ] AC3: 不能删除自己
- [ ] AC4: 删除成功后刷新列表并提示"删除成功"

**依赖**：S2.1

---

### E3: 课程管理

> **目标**：课程的增删改查与上下架
> **优先级**：P0
> **目标 Sprint**：Sprint 1

#### S3.1 课程列表查询

| 属性 | 值 |
|------|-----|
| Story ID | S3.1 |
| 优先级 | P0 |
| 角色 | ADMIN / STUDENT（只看上架） |
| 描述 | 作为用户，我希望查看课程列表，以便了解可选课程 |

**验收标准 (AC)：**
- [ ] AC1: 分页展示课程列表，默认每页 10 条
- [ ] AC2: 支持按课程名称模糊搜索
- [ ] AC3: 支持按分类筛选（后端开发/前端开发/数据库/云计算/AI/其他）
- [ ] AC4: 支持按难度筛选（入门/初级/中级/高级）
- [ ] AC5: ADMIN 可见全部，STUDENT 只能看到上架课程
- [ ] AC6: 列表显示：课程编码、名称、分类、难度、课时、状态

**依赖**：S1.2

---

#### S3.2 新增课程

| 属性 | 值 |
|------|-----|
| Story ID | S3.2 |
| 优先级 | P0 |
| 角色 | ADMIN |
| 描述 | 作为管理员，我希望能够创建新课程 |

**验收标准 (AC)：**
- [ ] AC1: 弹窗表单包含：课程编码、名称、分类、难度、课时、简介、封面图、标签
- [ ] AC2: 课程编码格式校验（如 JAVA-001），唯一性校验
- [ ] AC3: 分类、难度为下拉选择
- [ ] AC4: 新课程默认状态为下架
- [ ] AC5: 创建成功后刷新列表并提示"创建成功"

**依赖**：S3.1

---

#### S3.3 编辑课程

| 属性 | 值 |
|------|-----|
| Story ID | S3.3 |
| 优先级 | P0 |
| 角色 | ADMIN |
| 描述 | 作为管理员，我希望能够修改课程信息 |

**验收标准 (AC)：**
- [ ] AC1: 点击"编辑"弹出表单，回显当前课程信息
- [ ] AC2: 课程编码不可修改（显示但禁用）
- [ ] AC3: 可修改其他所有字段
- [ ] AC4: 保存成功后刷新列表并提示"保存成功"

**依赖**：S3.1

---

#### S3.4 上架/下架课程

| 属性 | 值 |
|------|-----|
| Story ID | S3.4 |
| 优先级 | P0 |
| 角色 | ADMIN |
| 描述 | 作为管理员，我希望控制课程的可见性 |

**验收标准 (AC)：**
- [ ] AC1: 下架状态显示"上架"按钮，上架状态显示"下架"按钮
- [ ] AC2: 上架后学员端可见
- [ ] AC3: 下架后学员端不可见，但已报名学员的记录不受影响
- [ ] AC4: 操作成功后刷新列表并提示

**依赖**：S3.1

---

#### S3.5 删除课程

| 属性 | 值 |
|------|-----|
| Story ID | S3.5 |
| 优先级 | P1 |
| 角色 | ADMIN |
| 描述 | 作为管理员，我希望能够删除不需要的课程 |

**验收标准 (AC)：**
- [ ] AC1: 点击"删除"弹出二次确认
- [ ] AC2: 有关联班期的课程不能删除，提示"该课程下存在班期，无法删除"
- [ ] AC3: 确认后执行软删除
- [ ] AC4: 删除成功后刷新列表并提示"删除成功"

**依赖**：S3.1, E4

---

### E4: 班期管理

> **目标**：班期的增删改查与状态管理
> **优先级**：P0
> **目标 Sprint**：Sprint 1

#### S4.1 班期列表查询

| 属性 | 值 |
|------|-----|
| Story ID | S4.1 |
| 优先级 | P0 |
| 角色 | ADMIN / INSTRUCTOR（自己的）/ STUDENT（报名中的） |
| 描述 | 作为用户，我希望查看班期列表 |

**验收标准 (AC)：**
- [ ] AC1: 分页展示班期列表
- [ ] AC2: 支持按课程筛选
- [ ] AC3: 支持按状态筛选（未开放/报名中/已满员/进行中/已结束）
- [ ] AC4: ADMIN 可见全部，INSTRUCTOR 只见自己的，STUDENT 只见"报名中"的
- [ ] AC5: 列表显示：班期编码、课程名称、讲师、时间、名额（已报/总数）、状态

**依赖**：S1.2, E3

---

#### S4.2 新增班期

| 属性 | 值 |
|------|-----|
| Story ID | S4.2 |
| 优先级 | P0 |
| 角色 | ADMIN |
| 描述 | 作为管理员，我希望为课程创建班期 |

**验收标准 (AC)：**
- [ ] AC1: 弹窗表单包含：所属课程（下拉）、讲师（下拉）、班期编码、开始日期、结束日期、上课时间、上课地点、最大名额
- [ ] AC2: 班期编码格式校验（如 JAVA-001-2024S1），唯一性校验
- [ ] AC3: 开始日期必须大于当前日期
- [ ] AC4: 结束日期必须大于等于开始日期
- [ ] AC5: 讲师下拉只显示 INSTRUCTOR 角色用户
- [ ] AC6: 新班期默认状态为"未开放"，当前报名人数为 0
- [ ] AC7: 创建成功后刷新列表并提示"创建成功"

**依赖**：S4.1, S2.1

---

#### S4.3 编辑班期

| 属性 | 值 |
|------|-----|
| Story ID | S4.3 |
| 优先级 | P0 |
| 角色 | ADMIN |
| 描述 | 作为管理员，我希望能够修改班期信息 |

**验收标准 (AC)：**
- [ ] AC1: 点击"编辑"弹出表单，回显当前班期信息
- [ ] AC2: 班期编码、所属课程不可修改
- [ ] AC3: 可修改：讲师、时间、地点、名额、状态
- [ ] AC4: 最大名额不能小于当前报名人数
- [ ] AC5: 保存成功后刷新列表并提示"保存成功"

**依赖**：S4.1

---

#### S4.4 班期状态管理

| 属性 | 值 |
|------|-----|
| Story ID | S4.4 |
| 优先级 | P0 |
| 角色 | ADMIN |
| 描述 | 作为管理员，我希望能够管理班期状态 |

**验收标准 (AC)：**
- [ ] AC1: 可手动将状态从"未开放"改为"报名中"
- [ ] AC2: 报名人数达到上限时，状态自动变为"已满员"
- [ ] AC3: 取消报名释放名额后，如果原状态是"已满员"，自动变回"报名中"
- [ ] AC4: 可手动将任何状态改为"已结束"（强制关闭）

**依赖**：S4.1

---

#### S4.5 删除班期

| 属性 | 值 |
|------|-----|
| Story ID | S4.5 |
| 优先级 | P1 |
| 角色 | ADMIN |
| 描述 | 作为管理员，我希望能够删除不需要的班期 |

**验收标准 (AC)：**
- [ ] AC1: 点击"删除"弹出二次确认
- [ ] AC2: 有报名记录的班期不能删除，提示"该班期已有学员报名，无法删除"
- [ ] AC3: 确认后执行软删除
- [ ] AC4: 删除成功后刷新列表并提示"删除成功"

**依赖**：S4.1, E5

---

### E5: 报名管理

> **目标**：学员报名、取消，讲师查看学员，管理员管理报名
> **优先级**：P0
> **目标 Sprint**：Sprint 2

#### S5.1 学员浏览课程

| 属性 | 值 |
|------|-----|
| Story ID | S5.1 |
| 优先级 | P0 |
| 角色 | STUDENT |
| 描述 | 作为学员，我希望浏览可报名的课程和班期 |

**验收标准 (AC)：**
- [ ] AC1: 学员端首页展示上架课程列表（卡片式）
- [ ] AC2: 支持按分类、难度筛选
- [ ] AC3: 支持按关键词搜索
- [ ] AC4: 点击课程卡片进入详情页
- [ ] AC5: 详情页显示课程信息和可报名班期列表
- [ ] AC6: 班期显示：时间、讲师、剩余名额、状态

**依赖**：E3, E4

---

#### S5.2 学员在线报名

| 属性 | 值 |
|------|-----|
| Story ID | S5.2 |
| 优先级 | P0 |
| 角色 | STUDENT |
| 描述 | 作为学员，我希望能够报名心仪的班期 |

**验收标准 (AC)：**
- [ ] AC1: 班期状态为"报名中"且有剩余名额时，显示"立即报名"按钮
- [ ] AC2: 已报名该班期时，显示"已报名"（禁用）
- [ ] AC3: 点击报名后弹出确认框
- [ ] AC4: 确认后调用报名接口，名额原子性扣减
- [ ] AC5: 报名成功提示"报名成功"，按钮变为"已报名"
- [ ] AC6: 名额不足时提示"报名失败，名额已满"
- [ ] AC7: 重复报名时提示"您已报名该班期"

**依赖**：S5.1

---

#### S5.3 学员查看我的报名

| 属性 | 值 |
|------|-----|
| Story ID | S5.3 |
| 优先级 | P0 |
| 角色 | STUDENT |
| 描述 | 作为学员，我希望查看我的报名记录 |

**验收标准 (AC)：**
- [ ] AC1: "我的报名"页面展示当前用户所有报名记录
- [ ] AC2: 列表显示：课程名称、班期、时间、讲师、报名时间、状态
- [ ] AC3: 支持按状态筛选（全部/已报名/已取消）
- [ ] AC4: 已报名状态显示"取消报名"按钮
- [ ] AC5: 已取消状态显示取消时间和原因

**依赖**：S5.2

---

#### S5.4 学员取消报名

| 属性 | 值 |
|------|-----|
| Story ID | S5.4 |
| 优先级 | P0 |
| 角色 | STUDENT |
| 描述 | 作为学员，我希望能够取消报名 |

**验收标准 (AC)：**
- [ ] AC1: 点击"取消报名"弹出确认框，可填写取消原因（选填）
- [ ] AC2: 班期已开始后不允许取消，提示"班期已开始，无法取消"
- [ ] AC3: 确认后更新报名状态为"已取消"
- [ ] AC4: 班期名额自动 +1
- [ ] AC5: 如果班期原状态为"已满员"，自动变为"报名中"
- [ ] AC6: 取消成功提示"取消成功"

**依赖**：S5.3

---

#### S5.5 讲师查看学员名单

| 属性 | 值 |
|------|-----|
| Story ID | S5.5 |
| 优先级 | P0 |
| 角色 | INSTRUCTOR |
| 描述 | 作为讲师，我希望查看我负责班期的学员名单 |

**验收标准 (AC)：**
- [ ] AC1: "我的班期"页面展示当前讲师负责的所有班期
- [ ] AC2: 点击班期可查看该班期的学员名单
- [ ] AC3: 学员名单显示：学员姓名、手机号、报名时间、状态
- [ ] AC4: 只能查看自己负责班期的学员，无法查看其他班期

**依赖**：E4, S5.2

---

#### S5.6 管理员报名管理

| 属性 | 值 |
|------|-----|
| Story ID | S5.6 |
| 优先级 | P0 |
| 角色 | ADMIN |
| 描述 | 作为管理员，我希望管理所有报名记录 |

**验收标准 (AC)：**
- [ ] AC1: 报名管理页面展示所有报名记录
- [ ] AC2: 支持按课程、班期、学员、状态筛选
- [ ] AC3: 列表显示：学员、课程、班期、报名时间、状态
- [ ] AC4: 可查看报名详情
- [ ] AC5: 可代学员取消报名（需二次确认）

**依赖**：S5.2

---

### E6: AI 智能推荐

> **目标**：基于学习目标的智能课程推荐
> **优先级**：P0
> **目标 Sprint**：Sprint 3

#### S6.1 AI 推荐入口

| 属性 | 值 |
|------|-----|
| Story ID | S6.1 |
| 优先级 | P0 |
| 角色 | STUDENT |
| 描述 | 作为学员，我希望能够获取个性化课程推荐 |

**验收标准 (AC)：**
- [ ] AC1: 学员端显示"智能推荐"入口（顶部导航或首页卡片）
- [ ] AC2: 点击进入推荐页面，显示输入框
- [ ] AC3: 输入框提示："请输入您的学习目标，如：想学后端开发、想成为全栈工程师"
- [ ] AC4: 输入内容不能为空，最少 5 个字符

**依赖**：S1.2

---

#### S6.2 AI 推荐结果展示

| 属性 | 值 |
|------|-----|
| Story ID | S6.2 |
| 优先级 | P0 |
| 角色 | STUDENT |
| 描述 | 作为学员，我希望看到 AI 推荐的课程、理由和学习顺序 |

**验收标准 (AC)：**
- [ ] AC1: 点击"获取推荐"后显示 loading 状态
- [ ] AC2: 返回结果包含：推荐课程列表（3-5 门）、推荐理由、建议学习顺序
- [ ] AC3: 推荐课程以卡片形式展示，标注推荐顺序（1、2、3...）
- [ ] AC4: 显示推荐理由文本
- [ ] AC5: 每张课程卡片可点击进入详情页
- [ ] AC6: AI 响应时间 < 10 秒

**依赖**：S6.1

---

#### S6.3 AI 推荐降级策略

| 属性 | 值 |
|------|-----|
| Story ID | S6.3 |
| 优先级 | P0 |
| 角色 | 系统 |
| 描述 | 当 AI 服务不可用时，系统应返回热门课程作为降级 |

**验收标准 (AC)：**
- [ ] AC1: AI 接口超时（>10s）或返回错误时触发降级
- [ ] AC2: 降级时返回按报名量排序的热门课程 TOP 5
- [ ] AC3: 降级结果标注"AI 服务暂时不可用，为您推荐热门课程"
- [ ] AC4: 降级情况记录到日志

**依赖**：S6.2

---

#### S6.4 AI 推荐日志记录

| 属性 | 值 |
|------|-----|
| Story ID | S6.4 |
| 优先级 | P0 |
| 角色 | 系统 |
| 描述 | 系统应记录每次 AI 推荐请求的日志 |

**验收标准 (AC)：**
- [ ] AC1: 每次推荐请求创建一条日志记录
- [ ] AC2: 日志包含：用户ID、输入文本、推荐结果、使用模型、响应耗时、创建时间
- [ ] AC3: 降级情况也需记录，模型字段标注为"FALLBACK"
- [ ] AC4: 日志表数据可供后续分析使用

**依赖**：S6.2, S6.3

---

### E7: 统计看板

> **目标**：数据概览和统计图表
> **优先级**：P1
> **目标 Sprint**：Sprint 3

#### S7.1 数据概览

| 属性 | 值 |
|------|-----|
| Story ID | S7.1 |
| 优先级 | P1 |
| 角色 | ADMIN |
| 描述 | 作为管理员，我希望看到系统核心数据概览 |

**验收标准 (AC)：**
- [ ] AC1: 管理端首页展示数据概览卡片
- [ ] AC2: 显示：课程总数、班期总数、学员总数、报名总数
- [ ] AC3: 数据实时从数据库统计

**依赖**：E2, E3, E4, E5

---

#### S7.2 课程热度排行

| 属性 | 值 |
|------|-----|
| Story ID | S7.2 |
| 优先级 | P1 |
| 角色 | ADMIN |
| 描述 | 作为管理员，我希望看到课程热度排行 |

**验收标准 (AC)：**
- [ ] AC1: 展示报名量 TOP 10 的课程
- [ ] AC2: 柱状图形式展示
- [ ] AC3: 显示课程名称和报名数量

**依赖**：E5

---

#### S7.3 报名趋势图

| 属性 | 值 |
|------|-----|
| Story ID | S7.3 |
| 优先级 | P1 |
| 角色 | ADMIN |
| 描述 | 作为管理员，我希望看到报名趋势 |

**验收标准 (AC)：**
- [ ] AC1: 折线图展示近 7 天/30 天报名趋势
- [ ] AC2: 可切换时间范围（7 天/30 天）
- [ ] AC3: X 轴为日期，Y 轴为报名数量

**依赖**：E5

---

## 3. 依赖关系

### 3.1 依赖关系图

```
┌─────────────────────────────────────────────────────────────────────┐
│                         Story 依赖关系图                             │
├─────────────────────────────────────────────────────────────────────┤
│                                                                     │
│  ┌─────┐                                                           │
│  │S1.1 │ 用户注册                                                   │
│  └──┬──┘                                                           │
│     │                                                               │
│     ▼                                                               │
│  ┌─────┐                                                           │
│  │S1.2 │ 用户登录 ◄──────────────────────────────────────────────┐ │
│  └──┬──┘                                                          │ │
│     │                                                              │ │
│     ├────────────┬────────────┬────────────┬───────────┐          │ │
│     ▼            ▼            ▼            ▼           ▼          │ │
│  ┌─────┐     ┌─────┐      ┌─────┐      ┌─────┐     ┌─────┐       │ │
│  │S1.3 │     │S1.4 │      │S2.1 │      │S3.1 │     │S6.1 │       │ │
│  │Token│     │登出 │      │用户 │      │课程 │     │AI   │       │ │
│  └─────┘     └─────┘      │列表 │      │列表 │     │入口 │       │ │
│                           └──┬──┘      └──┬──┘     └──┬──┘       │ │
│                              │            │           │          │ │
│              ┌───────────────┼────────────┤           │          │ │
│              ▼               ▼            ▼           ▼          │ │
│           ┌─────┐        ┌─────┐      ┌─────┐     ┌─────┐       │ │
│           │S2.2 │        │S2.3 │      │S3.2 │     │S6.2 │       │ │
│           │新增 │        │编辑 │      │新增 │     │结果 │       │ │
│           └──┬──┘        └─────┘      └─────┘     └──┬──┘       │ │
│              │                           │           │          │ │
│              │                           ▼           ▼          │ │
│              │                        ┌─────┐     ┌─────┐       │ │
│              │                        │S4.1 │     │S6.3 │       │ │
│              └───────────────────────►│班期 │     │降级 │       │ │
│                                       │列表 │     └──┬──┘       │ │
│                                       └──┬──┘        │          │ │
│                                          │           ▼          │ │
│                          ┌───────────────┤        ┌─────┐       │ │
│                          ▼               ▼        │S6.4 │       │ │
│                       ┌─────┐        ┌─────┐     │日志 │       │ │
│                       │S4.2 │        │S5.1 │     └─────┘       │ │
│                       │新增 │        │浏览 │                    │ │
│                       └─────┘        └──┬──┘                    │ │
│                                         │                       │ │
│                                         ▼                       │ │
│                                      ┌─────┐                    │ │
│                                      │S5.2 │ ───────────────────┘ │
│                                      │报名 │                      │
│                                      └──┬──┘                      │
│                                         │                         │
│                          ┌──────────────┼──────────────┐          │
│                          ▼              ▼              ▼          │
│                       ┌─────┐       ┌─────┐        ┌─────┐       │
│                       │S5.3 │       │S5.5 │        │S5.6 │       │
│                       │我的 │       │学员 │        │管理 │       │
│                       │报名 │       │名单 │        │报名 │       │
│                       └──┬──┘       └─────┘        └─────┘       │
│                          │                                        │
│                          ▼                                        │
│                       ┌─────┐                                     │
│                       │S5.4 │                                     │
│                       │取消 │                                     │
│                       └─────┘                                     │
│                                                                   │
│  ┌─────────────────────────────────────────────────────────────┐ │
│  │ 统计看板 (E7) 依赖 E2, E3, E4, E5 完成后才能准确统计         │ │
│  │ S7.1, S7.2, S7.3 → 依赖 E5 报名数据                          │ │
│  └─────────────────────────────────────────────────────────────┘ │
│                                                                   │
└───────────────────────────────────────────────────────────────────┘
```

### 3.2 关键依赖说明

| Story | 依赖项 | 说明 |
|-------|--------|------|
| S1.2 | S1.1 | 登录依赖注册创建的用户 |
| S2.* | S1.2 | 用户管理需要认证 |
| S3.* | S1.2 | 课程管理需要认证 |
| S4.1 | E3 | 班期列表需要课程数据 |
| S4.2 | S2.1 | 新增班期需要选择讲师 |
| S5.1 | E3, E4 | 浏览课程需要课程和班期数据 |
| S5.2 | S5.1 | 报名需要先浏览 |
| S5.4 | S5.3 | 取消需要先查看报名 |
| S6.* | S1.2 | AI 推荐需要登录 |
| S7.* | E5 | 统计依赖报名数据 |

---

## 4. Sprint 分配预览

| Sprint | Epic | Story | 说明 |
|--------|------|-------|------|
| Sprint 1 | E1 | S1.1, S1.2, S1.4 | 认证核心 |
| Sprint 1 | E2 | S2.1, S2.2, S2.3 | 用户管理 |
| Sprint 1 | E3 | S3.1, S3.2, S3.3, S3.4 | 课程管理 |
| Sprint 1 | E4 | S4.1, S4.2, S4.3, S4.4 | 班期管理 |
| Sprint 2 | E5 | S5.1, S5.2, S5.3, S5.4, S5.5, S5.6 | 报名闭环 |
| Sprint 3 | E6 | S6.1, S6.2, S6.3, S6.4 | AI 推荐 |
| Sprint 3 | E7 | S7.1, S7.2, S7.3 | 统计看板 |
| Sprint 4 | - | S1.3, S2.4, S3.5, S4.5 | 补充功能 + 测试 |

---

## 修订记录

| 版本 | 日期 | 修改人 | 修改内容 |
|------|------|--------|----------|
| v1.0.0 | 2025-12-14 | PO | 初始版本 |
